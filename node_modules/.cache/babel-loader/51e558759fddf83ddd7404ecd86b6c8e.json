{"ast":null,"code":"export default class Anime {\n  constructor(selector, option) {\n    this.selector = selector;\n    this.option = option;\n    this.startTime = performance.now();\n    this.currentValue = null;\n    if (this.option.prop === 'scroll') this.currentValue = this.selector.scrollY;else this.currentValue = parseFloat(getComputedStyle(this.selector)[this.option.prop]);\n    this.isString = typeof this.option.value;\n    if (this.isString === 'string') {\n      const parentW = parseInt(getComputedStyle(this.selector.parentElement).width);\n      const parentH = parseInt(getComputedStyle(this.selector.parentElement).height);\n      const x = ['margin-left', 'margin-right', 'left', 'right', 'width'];\n      const y = ['margin-top', 'margin-bottom', 'top', 'bottom', 'height'];\n      for (let condition of x) {\n        if (this.option.prop == condition) this.currentValue = this.currentValue / parentW * 100;\n      }\n      for (let condition of y) {\n        if (this.option.prop == condition) this.currentValue = this.currentValue / parentH * 100;\n      }\n      this.option.value = parseFloat(this.option.value);\n    }\n    if (this.option.value === this.currentValue) return;\n    requestAnimationFrame(time => this.run(time));\n  }\n  run(time) {\n    let timelast = time - this.startTime;\n    let progress = timelast / this.option.duration;\n    if (progress < 0) progress = 0;\n    if (progress > 1) progress = 1;\n    if (progress < 1) {\n      requestAnimationFrame(time => this.run(time));\n    } else {\n      if (this.option.callback) {\n        setTimeout(() => {\n          this.option.callback();\n        }, 0);\n      }\n    }\n    let result = this.currentValue + (this.option.value - this.currentValue) * progress;\n    if (this.isString === 'string') this.selector.style[this.option.prop] = result + '%';else if (this.option.prop === 'opacity') this.selector.style[this.option.prop] = result;else if (this.option.prop === 'scroll') window.scroll(0, result);else this.selector.style[this.option.prop] = result + 'px';\n  }\n}","map":{"version":3,"names":["Anime","constructor","selector","option","startTime","performance","now","currentValue","prop","scrollY","parseFloat","getComputedStyle","isString","value","parentW","parseInt","parentElement","width","parentH","height","x","y","condition","requestAnimationFrame","time","run","timelast","progress","duration","callback","setTimeout","result","style","window","scroll"],"sources":["C:/Users/YS/Desktop/디코드 컴퓨터학원/221013 17일차/layout_react/src/asset/Anime.js"],"sourcesContent":["export default class Anime {\n\tconstructor(selector, option) {\n\t\tthis.selector = selector;\n\t\tthis.option = option;\n\t\tthis.startTime = performance.now();\n\t\tthis.currentValue = null;\n\n\t\tif (this.option.prop === 'scroll') this.currentValue = this.selector.scrollY;\n\t\telse this.currentValue = parseFloat(getComputedStyle(this.selector)[this.option.prop]);\n\n\t\tthis.isString = typeof this.option.value;\n\n\t\tif (this.isString === 'string') {\n\t\t\tconst parentW = parseInt(getComputedStyle(this.selector.parentElement).width);\n\t\t\tconst parentH = parseInt(getComputedStyle(this.selector.parentElement).height);\n\t\t\tconst x = ['margin-left', 'margin-right', 'left', 'right', 'width'];\n\t\t\tconst y = ['margin-top', 'margin-bottom', 'top', 'bottom', 'height'];\n\n\t\t\tfor (let condition of x) {\n\t\t\t\tif (this.option.prop == condition) this.currentValue = (this.currentValue / parentW) * 100;\n\t\t\t}\n\t\t\tfor (let condition of y) {\n\t\t\t\tif (this.option.prop == condition) this.currentValue = (this.currentValue / parentH) * 100;\n\t\t\t}\n\t\t\tthis.option.value = parseFloat(this.option.value);\n\t\t}\n\n\t\tif (this.option.value === this.currentValue) return;\n\t\trequestAnimationFrame((time) => this.run(time));\n\t}\n\n\trun(time) {\n\t\tlet timelast = time - this.startTime;\n\t\tlet progress = timelast / this.option.duration;\n\n\t\tif (progress < 0) progress = 0;\n\t\tif (progress > 1) progress = 1;\n\t\tif (progress < 1) {\n\t\t\trequestAnimationFrame((time) => this.run(time));\n\t\t} else {\n\t\t\tif (this.option.callback) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.option.callback();\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t}\n\t\tlet result = this.currentValue + (this.option.value - this.currentValue) * progress;\n\n\t\tif (this.isString === 'string') this.selector.style[this.option.prop] = result + '%';\n\t\telse if (this.option.prop === 'opacity') this.selector.style[this.option.prop] = result;\n\t\telse if (this.option.prop === 'scroll') window.scroll(0, result);\n\t\telse this.selector.style[this.option.prop] = result + 'px';\n\t}\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}