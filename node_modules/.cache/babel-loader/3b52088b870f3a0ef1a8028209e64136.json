{"ast":null,"code":"export default class Anime {\n  constructor(selector, option) {\n    this.selector = selector;\n    this.option = option;\n    this.startTime = performance.now();\n    option.duration == undefined ? this.speed = 500 : this.speed = option.duration;\n    this.currentValue;\n    this.timer;\n    if (this.option.prop === \"scroll\") {\n      this.currentValue = parseInt(window.scrollY || window.pageYOffset);\n    } else if (this.selector.style[this.option.prop]) {\n      if (this.option.prop === \"opacity\") {\n        this.currentValue = parseFloat(this.selector.style[this.option.prop]);\n      } else {\n        this.currentValue = parseInt(this.selector.style[this.option.prop]);\n      }\n    } else {\n      if (this.option.prop === \"opacity\") {\n        this.currentValue = parseFloat(getComputedStyle(this.selector)[this.option.prop]);\n      } else {\n        this.currentValue = parseInt(getComputedStyle(this.selector)[this.option.prop]);\n      }\n    }\n    this.isString = typeof this.option.value;\n    if (this.isString == \"string\") this.option.value = parseFloat(this.option.value);\n    if (this.option.value !== this.currentValue) requestAnimationFrame(time => {\n      this.run(time);\n    });\n  }\n  run(time) {\n    let timeLast = time - this.startTime;\n    let progress = timeLast / this.speed;\n    if (progress < 0) progress = 0;\n    if (progress > 1) progress = 1;\n    if (progress < 1) {\n      this.timer = requestAnimationFrame(time => {\n        this.run(time);\n      });\n    } else {\n      cancelAnimationFrame(this.timer);\n      if (this.option.callback) {\n        setTimeout(() => {\n          this.option.callback();\n        }, 0);\n      }\n    }\n    let result = this.currentValue + (this.option.value - this.currentValue) * progress;\n    if (this.option.prop === \"opacity\") {\n      this.selector.style[this.option.prop] = result;\n    } else if (this.option.prop === \"scroll\") {\n      window.scroll(0, result);\n    } else if (this.isString == \"string\") {\n      this.selector.style[this.option.prop] = result + \"%\";\n    } else {\n      this.selector.style[this.option.prop] = result + \"px\";\n    }\n  }\n}","map":{"version":3,"names":["Anime","constructor","selector","option","startTime","performance","now","duration","undefined","speed","currentValue","timer","prop","parseInt","window","scrollY","pageYOffset","style","parseFloat","getComputedStyle","isString","value","requestAnimationFrame","time","run","timeLast","progress","cancelAnimationFrame","callback","setTimeout","result","scroll"],"sources":["C:/Users/YS/Desktop/디코드 컴퓨터학원/221013 17일차/layout_react/src/asset/anime.js"],"sourcesContent":["export default class Anime {\n  constructor(selector, option){\n    this.selector = selector;\n    this.option = option;\n    this.startTime = performance.now();  \n    (option.duration==undefined) ? this.speed = 500 : this.speed = option.duration;    \n    this.currentValue;\n    this.timer;\n  \n    if(this.option.prop === \"scroll\"){\n      this.currentValue = parseInt(window.scrollY || window.pageYOffset);\n    }else if(this.selector.style[this.option.prop]){           \n      if(this.option.prop === \"opacity\"){\n        this.currentValue = parseFloat(this.selector.style[this.option.prop]);  \n      } else {\n        this.currentValue = parseInt(this.selector.style[this.option.prop]);  \n      } \n    }else{ \n      if(this.option.prop === \"opacity\"){\n        this.currentValue = parseFloat(getComputedStyle(this.selector)[this.option.prop]);            \n      } else {\n        this.currentValue = parseInt(getComputedStyle(this.selector)[this.option.prop]);\n      }\n    }\n    \n    this.isString = typeof this.option.value;\n    if(this.isString == \"string\") this.option.value = parseFloat(this.option.value);\n    if(this.option.value !== this.currentValue) requestAnimationFrame(time =>{this.run(time)});    \n}\n\nrun(time){  \n    let timeLast = time - this.startTime;\n    let progress = timeLast/this.speed;  \n\n    if(progress < 0) progress = 0;\n    if(progress > 1) progress = 1; \n\n    if(progress < 1) {\n      this.timer = requestAnimationFrame(time => {this.run(time)});\n    }else {\n      cancelAnimationFrame(this.timer);\n      if(this.option.callback) {\n        setTimeout(()=>{\n          this.option.callback();\n        },0);\n      } \n    }\n\n    let result = this.currentValue + ((this.option.value- this.currentValue)*progress);\n    \n    if(this.option.prop === \"opacity\"){\n      this.selector.style[this.option.prop] = result; \n    } else if(this.option.prop === \"scroll\"){\n      window.scroll(0, result);\n    } else if(this.isString == \"string\"){\n      this.selector.style[this.option.prop] = result+\"%\"; \n    }else{\n      this.selector.style[this.option.prop] = result+\"px\"; \n    }\n  }    \n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}