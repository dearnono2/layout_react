{"ast":null,"code":"import _slicedToArray from\"C:/Users/YS/Desktop/\\uB514\\uCF54\\uB4DC \\uCEF4\\uD4E8\\uD130\\uD559\\uC6D0/221013 17\\uC77C\\uCC28/layout_react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Layout from\"../common/Layout\";import axios from\"axios\";import{useEffect,useState,useRef}from\"react\";import Popup from\"../common/Popup\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Youtube(){var pop=useRef(null);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),Vids=_useState2[0],setVids=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),Index=_useState4[0],setIndex=_useState4[1];useEffect(function(){var key='AIzaSyCtN1lqIIdi7ibHkYVCtVtP9vA4oz8j8n8';var playList='PLlXUbM-Wv86W_pA2wzZgQ7pF1VeHP6At4';var num=6;// 재생목록의 불러올 비디오 갯수\nvar url=\"https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&key=\".concat(key,\"&playlistId=\").concat(playList,\"&maxResults=\").concat(num);axios.get(url).then(function(json){// console.log(json.data);\nsetVids(json.data.items);});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Layout,{name:'Youtube',children:Vids.map(function(data,index){var tit=data.snippet.title;var desc=data.snippet.description;var date=data.snippet.publishedAt;return/*#__PURE__*/_jsxs(\"article\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:tit.length>30?tit.substr(0,30)+'...':tit}),/*#__PURE__*/_jsxs(\"div\",{className:\"txt\",children:[/*#__PURE__*/_jsx(\"p\",{children:desc.length>100?desc.substr(0,100):desc}),/*#__PURE__*/_jsx(\"span\",{children:date.split('T')[0]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pic\",onClick:function onClick(){pop.current.open();setIndex(index);},children:/*#__PURE__*/_jsx(\"img\",{src:data.snippet.thumbnails.standard.url,alt:data.snippet.title})})]},index);})}),/*#__PURE__*/_jsx(Popup,{ref:pop,children:Vids.length!==0&&/*#__PURE__*/_jsx(\"iframe\",{src:\"https://www.youtube.com/embed/\".concat(Vids[Index].snippet.resourceId.videoId),frameBorder:\"0\"})})]});}","map":{"version":3,"names":["Layout","axios","useEffect","useState","useRef","Popup","Youtube","pop","Vids","setVids","Index","setIndex","key","playList","num","url","get","then","json","data","items","map","index","tit","snippet","title","desc","description","date","publishedAt","length","substr","split","current","open","thumbnails","standard","resourceId","videoId"],"sources":["C:/Users/YS/Desktop/디코드 컴퓨터학원/221013 17일차/layout_react/src/components/sub/Youtube.js"],"sourcesContent":["import Layout from \"../common/Layout\"\r\nimport axios from \"axios\";\r\nimport { useEffect, useState, useRef } from \"react\";\r\nimport Popup from \"../common/Popup\";\r\n\r\nexport default function Youtube() {\r\n  const pop = useRef(null);\r\n  const [Vids, setVids] = useState([]);\r\n  const [Index, setIndex] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const key = 'AIzaSyCtN1lqIIdi7ibHkYVCtVtP9vA4oz8j8n8';\r\n    const playList = 'PLlXUbM-Wv86W_pA2wzZgQ7pF1VeHP6At4';\r\n    const num = 6; // 재생목록의 불러올 비디오 갯수\r\n    const url = `https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&key=${key}&playlistId=${playList}&maxResults=${num}`;\r\n\r\n    axios.get(url).then((json) => {\r\n      // console.log(json.data);\r\n      setVids(json.data.items);\r\n    })\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Layout name={'Youtube'}>\r\n\r\n          {Vids.map((data,index) => {\r\n\r\n          const tit = data.snippet.title;\r\n          const desc = data.snippet.description;\r\n          const date = data.snippet.publishedAt;\r\n\r\n          return(\r\n            <article key={index}>\r\n              <h3>{tit.length > 30 ? tit.substr(0, 30) + '...' : tit}</h3>\r\n              <div className=\"txt\">\r\n                <p>{desc.length > 100 ? desc.substr(0, 100) : desc}</p>\r\n                <span>{date.split('T')[0]}</span>\r\n              </div>\r\n              <div className=\"pic\" onClick={() => { \r\n                pop.current.open();\r\n                setIndex(index)\r\n              }}>\r\n                <img \r\n                  src={data.snippet.thumbnails.standard.url} \r\n                  alt={data.snippet.title} />\r\n              </div>\r\n            </article>\r\n          );\r\n        })}\r\n\r\n      </Layout>\r\n      <Popup ref={pop}>\r\n        {Vids.length !== 0 && (\r\n          <iframe src={`https://www.youtube.com/embed/${Vids[Index].snippet.resourceId.videoId}`} frameBorder='0'></iframe>\r\n        )}\r\n      </Popup>\r\n    </>\r\n\r\n  )\r\n}\r\n\r\n\r\n\r\n"],"mappings":"8LAAA,MAAOA,OAAM,KAAM,kBAAkB,CACrC,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAEC,QAAQ,CAAEC,MAAM,KAAQ,OAAO,CACnD,MAAOC,MAAK,KAAM,iBAAiB,CAAC,6IAEpC,cAAe,SAASC,QAAO,EAAG,CAChC,GAAMC,IAAG,CAAGH,MAAM,CAAC,IAAI,CAAC,CACxB,cAAwBD,QAAQ,CAAC,EAAE,CAAC,wCAA7BK,IAAI,eAAEC,OAAO,eACpB,eAA0BN,QAAQ,CAAC,CAAC,CAAC,yCAA9BO,KAAK,eAAEC,QAAQ,eAEtBT,SAAS,CAAC,UAAM,CACd,GAAMU,IAAG,CAAG,yCAAyC,CACrD,GAAMC,SAAQ,CAAG,oCAAoC,CACrD,GAAMC,IAAG,CAAG,CAAC,CAAE;AACf,GAAMC,IAAG,gFAA2EH,GAAG,wBAAeC,QAAQ,wBAAeC,GAAG,CAAE,CAElIb,KAAK,CAACe,GAAG,CAACD,GAAG,CAAC,CAACE,IAAI,CAAC,SAACC,IAAI,CAAK,CAC5B;AACAT,OAAO,CAACS,IAAI,CAACC,IAAI,CAACC,KAAK,CAAC,CAC1B,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,wCACE,KAAC,MAAM,EAAC,IAAI,CAAE,SAAU,UAEnBZ,IAAI,CAACa,GAAG,CAAC,SAACF,IAAI,CAACG,KAAK,CAAK,CAE1B,GAAMC,IAAG,CAAGJ,IAAI,CAACK,OAAO,CAACC,KAAK,CAC9B,GAAMC,KAAI,CAAGP,IAAI,CAACK,OAAO,CAACG,WAAW,CACrC,GAAMC,KAAI,CAAGT,IAAI,CAACK,OAAO,CAACK,WAAW,CAErC,mBACE,wCACE,oBAAKN,GAAG,CAACO,MAAM,CAAG,EAAE,CAAGP,GAAG,CAACQ,MAAM,CAAC,CAAC,CAAE,EAAE,CAAC,CAAG,KAAK,CAAGR,GAAG,EAAM,cAC5D,aAAK,SAAS,CAAC,KAAK,wBAClB,mBAAIG,IAAI,CAACI,MAAM,CAAG,GAAG,CAAGJ,IAAI,CAACK,MAAM,CAAC,CAAC,CAAE,GAAG,CAAC,CAAGL,IAAI,EAAK,cACvD,sBAAOE,IAAI,CAACI,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAQ,GAC7B,cACN,YAAK,SAAS,CAAC,KAAK,CAAC,OAAO,CAAE,kBAAM,CAClCzB,GAAG,CAAC0B,OAAO,CAACC,IAAI,EAAE,CAClBvB,QAAQ,CAACW,KAAK,CAAC,CACjB,CAAE,uBACA,YACE,GAAG,CAAEH,IAAI,CAACK,OAAO,CAACW,UAAU,CAACC,QAAQ,CAACrB,GAAI,CAC1C,GAAG,CAAEI,IAAI,CAACK,OAAO,CAACC,KAAM,EAAG,EACzB,GAbMH,KAAK,CAcT,CAEd,CAAC,CAAC,EAEK,cACT,KAAC,KAAK,EAAC,GAAG,CAAEf,GAAI,UACbC,IAAI,CAACsB,MAAM,GAAK,CAAC,eAChB,eAAQ,GAAG,yCAAmCtB,IAAI,CAACE,KAAK,CAAC,CAACc,OAAO,CAACa,UAAU,CAACC,OAAO,CAAG,CAAC,WAAW,CAAC,GAAG,EACxG,EACK,GACP,CAGP"},"metadata":{},"sourceType":"module"}